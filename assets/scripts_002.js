var mr=(function($,window,document){"use strict";var mr={},components={documentReady:[],windowLoad:[]};$(document).ready(documentReady);$(window).load(windowLoad);function documentReady(context){context=typeof context==typeof undefined?$:context;components.documentReady.forEach(function(component){component(context);});}
function windowLoad(context){context=typeof context=="object"?$:context;components.windowLoad.forEach(function(component){component(context);});}
mr.setContext=function(contextSelector){var context=$;if(typeof contextSelector!==typeof undefined){return function(selector){return $(contextSelector).find(selector);};}
return context;};mr.components=components;mr.documentReady=documentReady;mr.windowLoad=windowLoad;return mr;}(jQuery,window,document));mr=(function(mr,$,window,document){"use strict";mr.util={};mr.util.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;mr.util.documentReady=function($){var today=new Date();var year=today.getFullYear();$('.update-year').text(year);};mr.util.getURLParameter=function(name){return decodeURIComponent((new RegExp('[?|&]'+name+'='+'([^&;]+?)(&|#|;|$)').exec(location.search)||[,""])[1].replace(/\+/g,'%20'))||null;};mr.util.capitaliseFirstLetter=function(string){return string.charAt(0).toUpperCase()+string.slice(1);};mr.util.slugify=function(text,spacesOnly){if(typeof spacesOnly!==typeof undefined){return text.replace(/ +/g,'');}else{return text.toLowerCase().replace(/[^\w ]+/g,'').replace(/ +/g,'-');}};mr.util.sortChildrenByText=function(parentElement,reverse){var $parentElement=$(parentElement);var items=$parentElement.children().get();var order=-1;var order2=1;if(typeof reverse!==typeof undefined){order=1;order2=-1;}
items.sort(function(a,b){var keyA=$(a).text();var keyB=$(b).text();if(keyA<keyB)return order;if(keyA>keyB)return order2;return 0;});$parentElement.empty();$(items).each(function(i,itm){$parentElement.append(itm);});}
mr.util.idleSrc=function(context,selector){selector=(typeof selector!==typeof undefined)?selector:'';var elems=context.is(selector+'[src]')?context:context.find(selector+'[src]');elems.each(function(index,elem){elem=$(elem);var currentSrc=elem.attr('src'),dataSrc=elem.attr('data-src');if(typeof dataSrc===typeof undefined){elem.attr('data-src',currentSrc);}
elem.attr('src','');});};mr.util.activateIdleSrc=function(context,selector){selector=(typeof selector!==typeof undefined)?selector:'';var elems=context.is(selector+'[src]')?context:context.find(selector+'[src]');elems.each(function(index,elem){elem=$(elem);var dataSrc=elem.attr('data-src');if(typeof dataSrc!==typeof undefined){elem.attr('src',dataSrc);}});};mr.util.pauseVideo=function(context){var elems=context.is('video')?context:context.find('video');elems.each(function(index,video){var playingVideo=$(video).get(0);playingVideo.pause();});};mr.components.documentReady.push(mr.util.documentReady);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";mr.scroll={};mr.scroll.listeners=[];mr.scroll.y=0;mr.scroll.x=0;var documentReady=function($){if($('body').hasClass('scroll-assist')){mr.scroll.assisted=true;}
addEventListener('scroll',function(evt){window.mr.scroll.y=window.pageYOffset;window.mr.scroll.update(evt)},false);};mr.scroll.update=function(event){for(var i=0,l=mr.scroll.listeners.length;i<l;i++){mr.scroll.listeners[i](event);}};mr.scroll.documentReady=documentReady;mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";var documentReady=function($){$('.accordion__title').on('click',function(){var accordion=$(this).closest('.accordion');var li=$(this).closest('li');if(li.hasClass('active')){li.removeClass('active');}else{if(accordion.hasClass('accordion--oneopen')){var wasActive=accordion.find('li.active');wasActive.removeClass('active');li.addClass('active');}else{li.addClass('active');}}});$('.accordion').each(function(){var accordion=$(this);var minHeight=accordion.outerHeight(true);accordion.css('min-height',minHeight);});};mr.accordions={documentReady:documentReady};mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";var documentReady=function($){$('.background-image-holder').each(function(){var imgSrc=$(this).children('img').attr('src');$(this).css('background','url("'+imgSrc+'")').css('background-position','initial').css('opacity','1');});};mr.backgrounds={documentReady:documentReady};mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";mr.cookies={getItem:function(sKey){if(!sKey){return null;}
return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(sKey).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;},setItem:function(sKey,sValue,vEnd,sPath,sDomain,bSecure){if(!sKey||/^(?:expires|max\-age|path|domain|secure)$/i.test(sKey)){return false;}
var sExpires="";if(vEnd){switch(vEnd.constructor){case Number:sExpires=vEnd===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+vEnd;break;case String:sExpires="; expires="+vEnd;break;case Date:sExpires="; expires="+vEnd.toUTCString();break;}}
document.cookie=encodeURIComponent(sKey)+"="+encodeURIComponent(sValue)+sExpires+(sDomain?"; domain="+sDomain:"")+(sPath?"; path="+sPath:"")+(bSecure?"; secure":"");return true;},removeItem:function(sKey,sPath,sDomain){if(!this.hasItem(sKey)){return false;}
document.cookie=encodeURIComponent(sKey)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(sDomain?"; domain="+sDomain:"")+(sPath?"; path="+sPath:"");return true;},hasItem:function(sKey){if(!sKey){return false;}
return(new RegExp("(?:^|;\\s*)"+encodeURIComponent(sKey).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie);},keys:function(){var aKeys=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);for(var nLen=aKeys.length,nIdx=0;nIdx<nLen;nIdx++){aKeys[nIdx]=decodeURIComponent(aKeys[nIdx]);}
return aKeys;}};return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";mr.forms={};var documentReady=function($){$('.input-checkbox').on('click',function(){var checkbox=$(this);checkbox.toggleClass('checked');var input=checkbox.find('input');if(input.prop('checked')===false){input.prop('checked',true);}else{input.prop('checked',false);}
return false;});$('.input-radio').on('click',function(){var radio=$(this);radio.closest('form').find('.input-radio').removeClass('checked');radio.addClass('checked').find('input').prop('checked',true);return false;});$('.input-file .btn').on('click',function(){$(this).siblings('input').trigger('click');return false;});$('form.form-email, form[action*="list-manage.com"], form[action*="createsend.com"]').attr('novalidate',true).unbind('submit').on('submit',mr.forms.submit);$(document).on('change, input, paste, keyup','.attempted-submit .field-error',function(){$(this).removeClass('field-error');});};mr.forms.documentReady=documentReady;mr.forms.submit=function(e){if(e.preventDefault)e.preventDefault();else e.returnValue=false;var body=$('body'),thisForm=$(e.target).closest('form'),formAction=typeof thisForm.attr('action')!==typeof undefined?thisForm.attr('action'):"",submitButton=thisForm.find('button[type="submit"], input[type="submit"]'),error=0,originalError=thisForm.attr('original-error'),successRedirect,formError,formSuccess,errorText,successText;body.find('.form-error, .form-success').remove();submitButton.attr('data-text',submitButton.text());errorText=thisForm.attr('data-error')?thisForm.attr('data-error'):"Please fill all fields correctly";successText=thisForm.attr('data-success')?thisForm.attr('data-success'):"Thanks, we'll be in touch shortly";body.append('<div class="form-error" style="display: none;">'+errorText+'</div>');body.append('<div class="form-success" style="display: none;">'+successText+'</div>');formError=body.find('.form-error');formSuccess=body.find('.form-success');thisForm.addClass('attempted-submit');if(formAction.indexOf('createsend.com')!==-1||formAction.indexOf('list-manage.com')!==-1){console.log('Mail list form signup detected.');if(typeof originalError!==typeof undefined&&originalError!==false){formError.html(originalError);}
if(mr.forms.validateFields(thisForm)!==1){thisForm.removeClass('attempted-submit');formError.fadeOut(200);submitButton.addClass('btn--loading');try{$.ajax({url:thisForm.attr('action'),crossDomain:true,data:thisForm.serialize(),method:"GET",cache:false,dataType:'json',contentType:'application/json; charset=utf-8',success:function(data){if(data.result!=="success"&&data.Status!==200){formError.attr('original-error',formError.text());formError.html(data.msg).stop(true).fadeIn(1000);formSuccess.stop(true).fadeOut(1000);submitButton.removeClass('btn--loading');}else{submitButton.removeClass('btn--loading');successRedirect=thisForm.attr('data-success-redirect');if(typeof successRedirect!==typeof undefined&&successRedirect!==false&&successRedirect!==""){window.location=successRedirect;}else{mr.forms.resetForm(thisForm);mr.forms.showFormSuccess(formSuccess,formError,1000,5000,500);}}}});}catch(err){formError.attr('original-error',formError.text());formError.html(err.message);mr.forms.showFormError(formSuccess,formError,1000,5000,500);submitButton.removeClass('btn--loading');}}else{mr.forms.showFormError(formSuccess,formError,1000,5000,500);}}else{if(typeof originalError!==typeof undefined&&originalError!==false){formError.text(originalError);}
error=mr.forms.validateFields(thisForm);if(error===1){mr.forms.showFormError(formSuccess,formError,1000,5000,500);}else{thisForm.removeClass('attempted-submit');formError.fadeOut(200);submitButton.addClass('btn--loading');jQuery.ajax({type:"POST",url:"mail/mail.php",data:thisForm.serialize()+"&url="+window.location.href,success:function(response){submitButton.removeClass('btn--loading');if($.isNumeric(response)){if(parseInt(response,10)>0){successRedirect=thisForm.attr('data-success-redirect');if(typeof successRedirect!==typeof undefined&&successRedirect!==false&&successRedirect!==""){window.location=successRedirect;}
mr.forms.resetForm(thisForm);mr.forms.showFormSuccess(formSuccess,formError,1000,5000,500);}}
else{formError.attr('original-error',formError.text());formError.text(response).stop(true).fadeIn(1000);formSuccess.stop(true).fadeOut(1000);}},error:function(errorObject,errorText,errorHTTP){formError.attr('original-error',formError.text());formError.text(errorHTTP).stop(true).fadeIn(1000);formSuccess.stop(true).fadeOut(1000);submitButton.removeClass('btn--loading');}});}}
return false;};mr.forms.validateFields=function(form){var body=$(body),name,error,originalErrorMessage;$(form).find('.validate-required[type="checkbox"]').each(function(){if(!$('[name="'+$(this).attr('name')+'"]:checked').length){error=1;name=$(this).attr('name').replace('[]','');body.find('.form-error').text('Please tick at least one '+name+' box.');}});$(form).find('.validate-required, .required, [required]').each(function(){if($(this).val()===''){$(this).addClass('field-error');error=1;}else{$(this).removeClass('field-error');}});$(form).find('.validate-email, .email, [name*="cm-"][type="email"]').each(function(){if(!(/(.+)@(.+){2,}\.(.+){2,}/.test($(this).val()))){$(this).addClass('field-error');error=1;}else{$(this).removeClass('field-error');}});if(!form.find('.field-error').length){body.find('.form-error').fadeOut(1000);}else{var firstError=$(form).find('.field-error:first');if(firstError.length){$('html, body').stop(true).animate({scrollTop:(firstError.offset().top-100)},1200,function(){firstError.focus();});}}
return error;};mr.forms.showFormSuccess=function(formSuccess,formError,fadeOutError,wait,fadeOutSuccess){formSuccess.stop(true).fadeIn(fadeOutError);formError.stop(true).fadeOut(fadeOutError);setTimeout(function(){formSuccess.stop(true).fadeOut(fadeOutSuccess);},wait);};mr.forms.showFormError=function(formSuccess,formError,fadeOutSuccess,wait,fadeOutError){formError.stop(true).fadeIn(fadeOutSuccess);formSuccess.stop(true).fadeOut(fadeOutSuccess);setTimeout(function(){formError.stop(true).fadeOut(fadeOutError);},wait);};mr.forms.resetForm=function(form){form=$(form);form.get(0).reset();form.find('.input-radio, .input-checkbox').removeClass('checked');};mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";mr.maps={};var documentReady=function($){$('.map-holder').on('click',function(){$(this).addClass('interact');}).removeClass('interact');mr.maps.initAPI();mr.maps.init();};mr.maps.documentReady=documentReady;mr.maps.initAPI=function(){if(document.querySelector('[data-maps-api-key]')&&!document.querySelector('.gMapsAPI')){if($('[data-maps-api-key]').length){var script=document.createElement('script');var apiKey=$('[data-maps-api-key]:first').attr('data-maps-api-key');apiKey=typeof apiKey!=typeof undefined?apiKey:'';if(apiKey!==''){script.type='text/javascript';script.src='https://maps.googleapis.com/maps/api/js?key='+apiKey+'&callback=mr.maps.init';script.className='gMapsAPI';document.body.appendChild(script);}}}};mr.maps.init=function(){if(typeof window.google!=="undefined"){if(typeof window.google.maps!=="undefined"){$('.map-container[data-maps-api-key]').each(function(){var mapElement=this,mapInstance=$(this),mapJSON=typeof mapInstance.attr('data-map-style')!==typeof undefined?mapInstance.attr('data-map-style'):false,mapStyle=JSON.parse(mapJSON)||[{"featureType":"landscape","stylers":[{"saturation":-100},{"lightness":65},{"visibility":"on"}]},{"featureType":"poi","stylers":[{"saturation":-100},{"lightness":51},{"visibility":"simplified"}]},{"featureType":"road.highway","stylers":[{"saturation":-100},{"visibility":"simplified"}]},{"featureType":"road.arterial","stylers":[{"saturation":-100},{"lightness":30},{"visibility":"on"}]},{"featureType":"road.local","stylers":[{"saturation":-100},{"lightness":40},{"visibility":"on"}]},{"featureType":"transit","stylers":[{"saturation":-100},{"visibility":"simplified"}]},{"featureType":"administrative.province","stylers":[{"visibility":"off"}]},{"featureType":"water","elementType":"labels","stylers":[{"visibility":"on"},{"lightness":-25},{"saturation":-100}]},{"featureType":"water","elementType":"geometry","stylers":[{"hue":"#ffff00"},{"lightness":-25},{"saturation":-97}]}],zoomLevel=(typeof mapInstance.attr('data-map-zoom')!==typeof undefined&&mapInstance.attr('data-map-zoom')!=="")?mapInstance.attr('data-map-zoom')*1:17,latlong=typeof mapInstance.attr('data-latlong')!==typeof undefined?mapInstance.attr('data-latlong'):false,latitude=latlong?1*latlong.substr(0,latlong.indexOf(',')):false,longitude=latlong?1*latlong.substr(latlong.indexOf(",")+1):false,geocoder=new google.maps.Geocoder(),address=typeof mapInstance.attr('data-address')!==typeof undefined?mapInstance.attr('data-address').split(';'):[""],markerImage=typeof mapInstance.attr('data-marker-image')!==typeof undefined?mapInstance.attr('data-marker-image'):'img/mapmarker.png',markerTitle="We Are Here",isDraggable=$(document).width()>766?true:false,map,marker,mapOptions={draggable:isDraggable,scrollwheel:false,zoom:zoomLevel,disableDefaultUI:true,styles:mapStyle};if(typeof mapInstance.attr('data-marker-title')!==typeof undefined&&mapInstance.attr('data-marker-title')!=="")
{markerTitle=mapInstance.attr('data-marker-title');}
if(address!==undefined&&address[0]!==""){geocoder.geocode({'address':address[0].replace('[nomarker]','')},function(results,status){if(status==google.maps.GeocoderStatus.OK){var map=new google.maps.Map(mapElement,mapOptions);map.setCenter(results[0].geometry.location);address.forEach(function(address){var markerGeoCoder;markerImage={url:typeof window.mr_variant===typeof undefined?markerImage:'../img/mapmarker.png',scaledSize:new google.maps.Size(50,50)};if(/(\-?\d+(\.\d+)?),\s*(\-?\d+(\.\d+)?)/.test(address)){var latlong=address.split(','),marker=new google.maps.Marker({position:{lat:1*latlong[0],lng:1*latlong[1]},map:map,icon:markerImage,title:markerTitle,optimised:false});}
else if(address.indexOf('[nomarker]')<0){markerGeoCoder=new google.maps.Geocoder();markerGeoCoder.geocode({'address':address.replace('[nomarker]','')},function(results,status){if(status===google.maps.GeocoderStatus.OK){marker=new google.maps.Marker({map:map,icon:markerImage,title:markerTitle,position:results[0].geometry.location,optimised:false});}
else{console.log('Map marker error: '+status);}});}});}else{console.log('There was a problem geocoding the address.');}});}
else if(typeof latitude!==typeof undefined&&latitude!==""&&latitude!==false&&typeof longitude!==typeof undefined&&longitude!==""&&longitude!==false){mapOptions.center={lat:latitude,lng:longitude};map=new google.maps.Map(mapInstance,mapOptions);marker=new google.maps.Marker({position:{lat:latitude,lng:longitude},map:map,icon:markerImage,title:markerTitle});}});}}};mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";var documentReady=function($){$('.masonry').each(function(){var masonry=$(this);var masonryContainer=masonry.find('.masonry__container'),filters=masonry.find('.masonry__filters'),filterAllText=typeof filters.attr('data-filter-all-text')!==typeof undefined?filters.attr('data-filter-all-text'):"All",filtersList;if(masonryContainer.find('.masonry__item[data-masonry-filter]').length){filters.append('<ul></ul>');filtersList=filters.find('> ul');masonryContainer.find('.masonry__item[data-masonry-filter]').each(function(){var masonryItem=$(this),filterString=masonryItem.attr('data-masonry-filter'),filtersArray=[];if(typeof filterString!==typeof undefined&&filterString!==""){filtersArray=filterString.split(',');}
jQuery(filtersArray).each(function(index,tag){var slug=mr.util.slugify(tag,true);masonryItem.addClass('filter-'+slug);if(!filtersList.find('[data-masonry-filter="'+slug+'"]').length){filtersList.append('<li data-masonry-filter="'+slug+'">'+tag+'</li>');}});});mr.util.sortChildrenByText($(this).find('.masonry__filters ul'));filtersList.prepend('<li class="active" data-masonry-filter="*">'+filterAllText+'</li>');}});};var windowLoad=function(){$('.masonry').each(function(){var masonry=$(this).find('.masonry__container');masonry.on('layoutComplete',function(){masonry.addClass('masonry--active');});masonry.isotope({itemSelector:'.masonry__item',masonry:{columnWidth:'.masonry__item'}});});$('.masonry__filters li').on('click',function(){var masonryFilter=$(this);var masonryContainer=masonryFilter.closest('.masonry').find('.masonry__container');var filterValue='*';if(masonryFilter.attr('data-masonry-filter')!=='*'){filterValue='.filter-'+masonryFilter.attr('data-masonry-filter');}
$('.masonry__filters li').removeClass('active');masonryFilter.addClass('active');masonryContainer.removeClass('masonry--animate');masonryContainer.isotope({filter:filterValue});});};mr.masonry={documentReady:documentReady,windowLoad:windowLoad};mr.components.documentReady.push(documentReady);mr.components.windowLoad.push(windowLoad);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";mr.modals={};var documentReady=function($){$('.modal-container').each(function(){var modal=$(this),$window=$(window),modalContent=modal.find('.modal-content');if(!modal.find('.modal-close').length){modal.find('.modal-content').append('<div class="modal-close modal-close-cross"></div>');}
if(modalContent.attr('data-width')!==undefined){var modalWidth=modalContent.attr('data-width').substr(0,modalContent.attr('data-width').indexOf('%'))*1;if($window.width()<1280&&$window.width()>990){modalWidth=modalWidth+15;}else if($window.width()<990){modalWidth=modalWidth+20;}
modalContent.css('width',modalWidth+'%');}
if(modalContent.attr('data-height')!==undefined){var modalHeight=modalContent.attr('data-height').substr(0,modalContent.attr('data-height').indexOf('%'))*1;if($window.height()<768){console.log($window.height());modalHeight=modalHeight+15;}
modalContent.css('height',modalHeight+'%');}
mr.util.idleSrc(modal,'iframe');});if(typeof mr_variant==typeof undefined){$('.modal-instance').each(function(index){var modalInstance=$(this);var modal=modalInstance.find('.modal-container');var modalContent=modalInstance.find('.modal-content');var trigger=modalInstance.find('.modal-trigger');trigger.attr('data-modal-index',index);modal.attr('data-modal-index',index);if(typeof modal.attr('data-modal-id')!==typeof undefined){trigger.attr('data-modal-id',modal.attr('data-modal-id'));}
modal=modal.detach();$('body').append(modal);});}
$('.modal-trigger').on('click',function(){var modalTrigger=$(this);var $body=$('body');var uniqueID,targetModal;if(typeof modalTrigger.attr('data-modal-id')!==typeof undefined){uniqueID=modalTrigger.attr('data-modal-id');targetModal=$body.find('.modal-container[data-modal-id="'+uniqueID+'"]');}else{uniqueID=$(this).attr('data-modal-index');targetModal=$body.find('.modal-container[data-modal-index="'+uniqueID+'"]');}
mr.util.activateIdleSrc(targetModal,'iframe');mr.modals.autoplayVideo(targetModal);mr.modals.showModal(targetModal);return false;});$('.modal-close').on('click',mr.modals.closeActiveModal);$(document).keyup(function(e){if(e.keyCode==27){mr.modals.closeActiveModal();}});$('.modal-container').on('click',function(e){if(e.target!=this)return;mr.modals.closeActiveModal();});$('.modal-container[data-autoshow]').each(function(){var modal=$(this);var millisecondsDelay=modal.attr('data-autoshow')*1;mr.util.activateIdleSrc(modal);mr.modals.autoplayVideo(modal);if(typeof modal.attr('data-cookie')!==typeof undefined){if(!mr.cookies.hasItem(modal.attr('data-cookie'))){mr.modals.showModal(modal,millisecondsDelay);}}else{mr.modals.showModal(modal,millisecondsDelay);}});if(window.location.href.split('#').length==2){var modalID=window.location.href.split('#').pop();if($('[data-modal-id="'+modalID+'"]').length){mr.modals.closeActiveModal();mr.modals.showModal($('[data-modal-id="'+modalID+'"]'));}};$(document).on('wheel mousewheel scroll','.modal-content, .modal-content .scrollable',function(evt){if(evt.preventDefault){evt.preventDefault();}
if(evt.stopPropagation){evt.stopPropagation();}
this.scrollTop+=(evt.originalEvent.deltaY);});};mr.modals.documentReady=documentReady;mr.modals.showModal=function(modal,millisecondsDelay){var delay=(typeof millisecondsDelay!==typeof undefined)?(1*millisecondsDelay):0;setTimeout(function(){modal.addClass('modal-active');},delay);};mr.modals.closeActiveModal=function(){var modal=$('body div.modal-active');mr.util.idleSrc(modal,'iframe');mr.util.pauseVideo(modal);if(typeof modal.attr('data-cookie')!==typeof undefined){mr.cookies.setItem(modal.attr('data-cookie'),"true",Infinity);}
modal.removeClass('modal-active');};mr.modals.autoplayVideo=function(modal){if(modal.find('video[autoplay]').length){var video=modal.find('video').get(0);video.play();}};mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";mr.navigation={};mr.navigation.nav={};mr.navigation.bar={};var documentReady=function($){mr.navigation.nav.element=$('nav');mr.navigation.bar.element=$('nav .nav-bar');if(mr.navigation.nav.element.length){mr.navigation.nav.outerHeight=mr.navigation.nav.element.outerHeight();}else{mr.navigation.nav.outerHeight=0;}
if(mr.navigation.bar.element.length){mr.navigation.bar.init();}
$('.nav-mobile-toggle').on('click',function(){$('nav').toggleClass('nav-open');});$('.menu li').on('click',function(ev){var navItem=$(this),e=ev||window.event;e.stopPropagation();if(navItem.find('ul').length){navItem.toggleClass('active');}else{navItem.parents('.active').removeClass('active');}});$('.module-applet').on('click',function(){$(this).toggleClass('active');});$('.module-applet__body').each(function(){var moduleBody=$(this);var farRight=moduleBody.offset().left+moduleBody.outerWidth();if(farRight>$(window).width()){moduleBody.addClass('pos-right');}});$('.menu > li > ul').each(function(){var $window=$(window);var dropDown=$(this);var menu=dropDown.offset();var farRight=menu.left+dropDown.outerWidth(true);var windowWidth=$window.width();var multiColumn=dropDown.hasClass('multi-column');if(farRight>windowWidth&&!multiColumn){dropDown.addClass('make-right');}else if(farRight>windowWidth&&multiColumn){var difference=farRight-windowWidth;dropDown.css('margin-left',-(difference));}});};mr.navigation.bar.init=function(){var fixedAt=mr.navigation.bar.element.attr('data-fixed-at');mr.navigation.bar.fixedAt=(typeof fixedAt!==typeof undefined)?parseInt(fixedAt.replace('px',''),10):false;if(mr.navigation.bar.element.hasClass('nav--fixed')){mr.navigation.bar.isFixed=true;}else if(fixedAt){mr.navigation.nav.element.css('min-height',mr.navigation.nav.outerHeight);mr.navigation.bar.isFixed=false;mr.scroll.listeners.push(mr.navigation.bar.update);}};mr.navigation.bar.update=function(){if((mr.scroll.y>mr.navigation.bar.fixedAt)&&!mr.navigation.bar.isFixed)
{mr.navigation.bar.isFixed=true;mr.navigation.bar.element.addClass('nav--fixed');}
if((mr.scroll.y<mr.navigation.bar.fixedAt)&&mr.navigation.bar.isFixed)
{mr.navigation.bar.isFixed=false;mr.navigation.bar.element.removeClass('nav--fixed');}};mr.navigation.documentReady=documentReady;mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";mr.newsletters={};var documentReady=function($){var form,checkbox,label,id,parent,radio;$('form[action*="createsend.com"]').each(function(){form=$(this);form.attr('novalidate','novalidate');if(!form.is('.form--no-placeholders')){form.find('input:not([checkbox]):not([radio])').each(function(){var $input=$(this);if(typeof $input.attr('placeholder')!==typeof undefined){if($input.attr('placeholder')===""){if($input.siblings('label').length){$input.attr('placeholder',$input.siblings('label').first().text());if(form.is('.form--no-labels')){$input.siblings('label').first().remove();}}}}else if($input.siblings('label').length){$input.attr('placeholder',$input.siblings('label').first().text());if(form.is('.form--no-labels')){$input.siblings('label').first().remove();}}
if($input.parent().is('p')){$input.unwrap();}});}else{form.find('input[placeholder]').removeAttr('placeholder');}
form.find('select').wrap('<div class="input-select"></div>');form.find('input[type="radio"]').wrap('<div class="input-radio"></div>');form.find('input[type="checkbox"]').each(function(){checkbox=$(this);id=checkbox.attr('id');label=form.find('label[for='+id+']');checkbox.before('<div class="input-checkbox" data-id="'+id+'"></div>');$('.input-checkbox[data-id="'+id+'"]').prepend(checkbox);$('.input-checkbox[data-id="'+id+'"]').prepend(label);$('.input-checkbox[data-id="'+id+'"]').prepend('<div class="inner"></div>');});form.find('button[type="submit"]').each(function(){var button=$(this);button.addClass('btn');if(button.parent().is('p')){button.unwrap();}});form.find('[required]').removeAttr('required').addClass('validate-required');form.addClass('form--active');mr.newsletters.prepareAjaxAction(form);});$('form[action*="list-manage.com"]').each(function(){form=$(this);form.attr('novalidate','novalidate');if(!form.is('.form--no-placeholders')){form.find('input:not([checkbox]):not([radio])').each(function(){var $input=$(this);if(typeof $input.attr('placeholder')!==typeof undefined){if($input.attr('placeholder')===""){if($input.siblings('label').length){$input.attr('placeholder',$input.siblings('label').first().text());if(form.is('.form--no-labels')){$input.siblings('label').first().remove();}}}}else if($input.siblings('label').length){$input.attr('placeholder',$input.siblings('label').first().text());if(form.is('.form--no-labels')){$input.siblings('label').first().remove();}}});}else{form.find('input[placeholder]').removeAttr('placeholder');}
if(form.is('.form--no-labels')){form.find('input:not([checkbox]):not([radio])').each(function(){var $input=$(this);if($input.siblings('label').length){$input.siblings('label').first().remove();}});}
form.find('select').wrap('<div class="input-select"></div>');form.find('input[type="checkbox"]').each(function(){checkbox=$(this);parent=checkbox.closest('li');label=parent.find('label');checkbox.before('<div class="input-checkbox"><div class="inner"></div></div>');parent.find('.input-checkbox').prepend(checkbox);parent.find('.input-checkbox').prepend(label);});form.find('input[type="radio"]').each(function(){radio=$(this);parent=radio.closest('li');label=parent.find('label');radio.before('<div class="input-radio"><div class="inner"></div></div>');parent.find('.input-radio').prepend(radio);parent.find('.input-radio').prepend(label);});form.find('input[type="submit"]').each(function(){var submit=$(this);console.log('Submit class: '+submit.attr('class'));var newButton=jQuery('<button/>').attr('type','submit').attr('class',submit.attr('class')).addClass('btn').text(submit.attr('value'));if(submit.parent().is('div.clear')){submit.unwrap();}
newButton.insertBefore(submit);submit.remove();});form.find('input').each(function(){var input=$(this);if(input.hasClass('required')){input.removeClass('required').addClass('validate-required');}});form.find('input[type="email"]').removeClass('email').addClass('validate-email');form.find('#mce-responses').remove();form.find('.mc-field-group').each(function(){$(this).children().first().unwrap();});form.find('[required]').removeAttr('required').addClass('validate-required');form.addClass('form--active');mr.newsletters.prepareAjaxAction(form);});mr.forms.documentReady(mr.setContext('form.form--active'));};mr.newsletters.documentReady=documentReady;mr.newsletters.prepareAjaxAction=function(form){var action=$(form).attr('action');if(/list-manage\.com/.test(action)){action=action.replace('/post?','/post-json?')+"&c=?";if(action.substr(0,2)=="//"){action='http:'+action;}}
if(/createsend\.com/.test(action)){action=action+'?callback=?';}
$(form).attr('action',action);};mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";mr.notifications={};var documentReady=function($){$('.notification').each(function(){var notification=$(this);if(!notification.find('.notification-close').length){notification.append('<div class="notification-close-cross notification-close"></div>');}});$('.notification[data-autoshow]').each(function(){var notification=$(this);var millisecondsDelay=notification.attr('data-autoshow')*1;if(typeof notification.attr('data-cookie')!==typeof undefined){if(!mr.cookies.hasItem(notification.attr('data-cookie'))){mr.notifications.showNotification(notification,millisecondsDelay);}}else{mr.notifications.showNotification(notification,millisecondsDelay);}});$('[data-notification-link]:not(.notification)').on('click',function(){var notificationID=$(this).attr('data-notification-link');var notification=$('body').find('.notification[data-notification-link="'+notificationID+'"]');notification.removeClass('notification--dismissed');notification.addClass('notification--reveal');return false;});$('.notification-close').on('click',function(){var closeButton=$(this);mr.notifications.closeNotification(closeButton);if(closeButton.attr('href')==='#'){return false;}});};mr.notifications.documentReady=documentReady;mr.notifications.showNotification=function(notification,millisecondsDelay){var delay=(typeof millisecondsDelay!==typeof undefined)?(1*millisecondsDelay):0;setTimeout(function(){notification.addClass('notification--reveal');},delay);};mr.notifications.closeNotification=function(notification){var $notification=$(notification);notification=$notification.is('.notification-close')?$notification.closest('.notification'):$('body').find('.notification[data-notification-link="'+notification+'"]');notification.addClass('notification--dismissed');if(typeof notification.attr('data-cookie')!==typeof undefined){mr.cookies.setItem(notification.attr('data-cookie'),"true",Infinity);}};mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";var documentReady=function($){var $window=$(window);var windowWidth=$window.width();var windowHeight=$window.height();var navHeight=$('nav').outerHeight(true);if((/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i).test(navigator.userAgent||navigator.vendor||window.opera)){$('section').removeClass('parallax');}
if(windowWidth>768){var parallaxHero=$('.parallax:nth-of-type(1)'),parallaxHeroImage=$('.parallax:nth-of-type(1) .background-image-holder');parallaxHeroImage.css('top',-(navHeight));if(parallaxHero.outerHeight(true)==windowHeight){parallaxHeroImage.css('height',windowHeight+navHeight);}}};mr.parallax={documentReady:documentReady};mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";var documentReady=function($){jQuery.fn.easyaspie=function(){var size=parseInt(this.data('size'),10),radius=size/2,value=parseInt(this.data('value'),10);if(this.length>1){this.each(function(){$(this).easyaspie();});return this;}
if(isNaN(value)){return this;}
this.css({height:size,width:size}).addClass('pie-sliced');value=Math.min(Math.max(value,0),100);this.pie=document.createElementNS("http://www.w3.org/2000/svg","svg");if(value>=100){this.pie.slice=document.createElementNS("http://www.w3.org/2000/svg","circle");this.pie.slice.setAttribute('r',radius);this.pie.slice.setAttribute('cx',radius);this.pie.slice.setAttribute('cy',radius);}else{this.pie.slice=document.createElementNS("http://www.w3.org/2000/svg","path");var x=Math.cos((2*Math.PI)/(100/value));var y=Math.sin((2*Math.PI)/(100/value));var longArc=(value<=50)?0:1;var d="M"+radius+","+radius+" L"+radius+","+0+", A"+radius+","+radius+" 0 "+longArc+",1 "+(radius+y*radius)+","+(radius-x*radius)+" z";this.pie.slice.setAttribute('d',d);}
jQuery(this.pie.slice).appendTo(this.pie);jQuery(this.pie).appendTo(this);return this;};var pieCharts=$('.piechart');if(pieCharts.length){pieCharts.easyaspie().addClass('active');}
$('.barchart').each(function(){var chart=$(this);var bar=chart.find('.barchart__progress');var barWidth=chart.attr('data-value')*1+'%';bar.attr('data-value',barWidth);if(!chart.hasClass('barchart--vertical')){bar.css('width',barWidth);}else{bar.css('height',barWidth);}});};mr.piecharts={documentReady:documentReady};mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";var documentReady=function($){var $body=$('body');if($('body[data-reveal-selectors]').length){window.sr=ScrollReveal();var selectors=$body.attr('data-reveal-selectors');var revealTiming=1000;if($('body[data-reveal-timing]').length){revealTiming=$body.attr('data-reveal-timing');}
window.sr.reveal(''+selectors+'',{viewFactor:0.1,duration:''+revealTiming+'',scale:1,mobile:false});}};mr.scrollreveal={documentReady:documentReady};mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";mr.slidersOwl={};var documentReady=function($){var sliders=[];$('.slider').each(function(){var candidate=$(this);if(candidate.find('ul.slides').length){return true;}else{var children=[];var childCount=candidate.find('>*').length;candidate.children().each(function(index){children.push($(this).wrap('<li>').parent());});$('<ul class="slides"></ul>').append(children).appendTo(candidate);}});$('.slider').each(function(index){var slider=$(this);var sliderInitializer=$(this).find('ul.slides');var items=1;var arrows=false;var paging=false;var timing=7000;var loop=false;var autoplay=true;if(slider.attr('data-arrows')=='true'){arrows=true;}else{arrows=false;}
if(slider.attr('data-autoplay')=='false'){autoplay=false;}else{autoplay=true;}
if(slider.attr('data-paging')=='true'&&sliderInitializer.find('li').length>1){paging=true;}else{paging=false;}
if(slider.attr('data-timing')){timing=slider.attr('data-timing');}
if(slider.attr('data-items')){items=slider.attr('data-items');}
if(sliderInitializer.find('li').length>1&&slider.attr('data-loop')!='false'){loop=true;}
sliders.push(sliderInitializer);sliders[index].owlCarousel({nav:arrows,dots:paging,dotsSpeed:500,navSpeed:500,items:items,autoplay:autoplay,autoplayTimeout:timing,navText:false,loop:loop,mouseDrag:false,responsive:{0:{items:1},768:{items:items}}});});mr.slidersOwl.sliders=sliders;};mr.slidersOwl.documentReady=documentReady;mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";var documentReady=function($){var innerLinks=$('a.inner-link');if(innerLinks.length){innerLinks.each(function(){var link=$(this);var href=link.attr('href');if(href.charAt(0)!=="#"){link.removeClass('inner-link');}});var offset=0;if($('body[data-smooth-scroll-offset]').length){offset=$('body').attr('data-smooth-scroll-offset');offset=offset*1;}
innerLinks.smoothScroll({offset:offset,speed:800});}};mr.smoothscroll={documentReady:documentReady};mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";var documentReady=function($){$('.tabs').each(function(){var tabs=$(this);tabs.after('<ul class="tabs-content">');tabs.find('li').each(function(){var currentTab=$(this);var tabContent=currentTab.find('.tab__content').wrap('<li></li>').parent();tabContent.detach();currentTab.closest('.tabs-container').find('.tabs-content').append(tabContent);});});$('.tabs li').on('click',function(){var clickedTab=$(this);var tabContainer=clickedTab.closest('.tabs-container');var activeIndex=(clickedTab.index()*1)+(1);tabContainer.find('> .tabs > li').removeClass('active');tabContainer.find('> .tabs-content > li').removeClass('active');clickedTab.addClass('active');tabContainer.find('> .tabs-content > li:nth-of-type('+activeIndex+')').addClass('active');});$('.tabs li.active').trigger('click');};mr.tabs={documentReady:documentReady};mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));$(window).bind("pageshow",function(event){if(event.originalEvent.persisted){window.location.reload()}});mr=(function(mr,$,window,document){"use strict";var documentReady=function($){$('a:not([href^="#"]):not([href^="tel"]):not([href^="mailto"]):not([data-lightbox]):not([href=""]):not([target="_blank"]):not(.modal-trigger)').on('click',function(){$('[class*="transition--"]').removeClass('transition--active');});};var windowLoad=function(){$('[class*="transition--"]').addClass('transition--active');$('.loader').addClass('loader--fade');};mr.transitions={documentReady:documentReady,windowLoad:windowLoad};mr.components.documentReady.push(documentReady);mr.components.windowLoad.push(windowLoad);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";var documentReady=function($){$('.tweets-feed').each(function(index){$(this).attr('id','tweets-'+index);}).each(function(index){var TweetConfig={"id":$('#tweets-'+index).attr('data-widget-id'),"domId":'',"maxTweets":$('#tweets-'+index).attr('data-amount'),"enableLinks":true,"showUser":true,"showTime":true,"dateFunction":'',"showRetweet":false,"customCallback":handleTweets};function handleTweets(tweets){var x=tweets.length;var n=0;var element=$('#tweets-'+index);var html='<ul class="slides">';while(n<x){html+='<li>'+tweets[n]+'</li>';n++;}
html+='</ul>';element.html(html);if(element.closest('.twitter-feed--slider').length){var slider=element.find('ul.slides');slider.owlCarousel({nav:false,dots:false,items:1,autoplay:true,autoplayTiming:5000,center:true,responsive:false});return html;}}
twitterFetcher.fetch(TweetConfig);});};mr.twitter={documentReady:documentReady};mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));mr=(function(mr,$,window,document){"use strict";var documentReady=function($){if($('.youtube-background').length){$('.youtube-background').each(function(){var player=$(this);var vidURL=$(this).attr('data-video-url');var startAt=$(this).attr('data-start-at');player.attr('data-property','{videoURL:"'+vidURL+'",containment:"self",autoPlay:true, mute:true, startAt:'+startAt+', opacity:1}');player.closest('.videobg').append('<div class="loading-indicator"></div>');player.YTPlayer();player.on("YTPStart",function(){player.closest('.videobg').addClass('video-active');});});}
if($('.videobg').find('video').length){$('.videobg').find('video').closest('.videobg').addClass('video-active');}
$('.video-cover').each(function(){var videoCover=$(this);if(videoCover.find('iframe').length){videoCover.find('iframe').attr('data-src',videoCover.find('iframe').attr('src'));videoCover.find('iframe').attr('src','');}});$('.video-cover .video-play-icon').on("click",function(){var playIcon=$(this);var videoCover=playIcon.closest('.video-cover');if(videoCover.find('video').length){var video=videoCover.find('video').get(0);videoCover.addClass('reveal-video');video.play();return false;}else if(videoCover.find('iframe').length){var iframe=videoCover.find('iframe');iframe.attr('src',iframe.attr('data-src'));videoCover.addClass('reveal-video');return false;}});};mr.video={documentReady:documentReady};mr.components.documentReady.push(documentReady);return mr;}(mr,jQuery,window,document));